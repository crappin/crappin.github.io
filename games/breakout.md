<b><a href="data:text/html;base64, PCEtLUhUTUw6IGh0bWwuaHRtbC0tPgo8Y2FudmFzIGlkPSJteUNhbnZhcyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PC9jYW52YXM+CjxzdHlsZT4KICAgIGNhbnZhcyB7IGJhY2tncm91bmQ6ICNlZWU7IH0KPC9zdHlsZT4KPHNjcmlwdD4KICAgIGNvbnN0IFNDQUxFX01VTFQgPSA2OwoKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXlDYW52YXMiKTsKICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCowLjk4KTsgLy9kb2N1bWVudC53aWR0aCBpcyBvYnNvbGV0ZQogICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQqMC45OCk7IC8vZG9jdW1lbnQuaGVpZ2h0IGlzIG9ic29sZXRlCiAgICBjYW52YXNXID0gY2FudmFzLndpZHRoOwogICAgY2FudmFzSCA9IGNhbnZhcy5oZWlnaHQ7CiAgCiAgICAKdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwp2YXIgYmFsbFJhZGl1cyA9IDEwOwp2YXIgeCA9IGNhbnZhcy53aWR0aC8yOwp2YXIgeSA9IGNhbnZhcy5oZWlnaHQtMzA7CnZhciBkeCA9IE1hdGguZmxvb3IoY2FudmFzLndpZHRoLygxOTIwL1NDQUxFX01VTFQpKTsKdmFyIGR5ID0gMCAtIE1hdGguZmxvb3IoY2FudmFzLndpZHRoLygxOTIwL1NDQUxFX01VTFQpKTsKY29uc29sZS5sb2coZHgpOwpjb25zb2xlLmxvZyhkeSk7CnZhciBwYWRkbGVIZWlnaHQgPSAxMDsKdmFyIHBhZGRsZVdpZHRoID0gNzU7CnZhciBwYWRkbGVYID0gKGNhbnZhcy53aWR0aC1wYWRkbGVXaWR0aCkvMjsKdmFyIHJpZ2h0UHJlc3NlZCA9IGZhbHNlOwp2YXIgbGVmdFByZXNzZWQgPSBmYWxzZTsKdmFyIGJyaWNrUm93Q291bnQgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDg1KTsKdmFyIGJyaWNrQ29sdW1uQ291bnQgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDgwKTsKdmFyIGJyaWNrV2lkdGggPSA3NTsKdmFyIGJyaWNrSGVpZ2h0ID0gMjA7CnZhciBicmlja1BhZGRpbmcgPSAxMDsKdmFyIGJyaWNrT2Zmc2V0VG9wID0gMzA7CnZhciBicmlja09mZnNldExlZnQgPSAzMDsKdmFyIHNjb3JlID0gMDsKdmFyIGxpdmVzID0gMzsKCnZhciBicmlja3MgPSBbXTsKZm9yKHZhciBjPTA7IGM8YnJpY2tDb2x1bW5Db3VudDsgYysrKSB7CiAgYnJpY2tzW2NdID0gW107CiAgZm9yKHZhciByPTA7IHI8YnJpY2tSb3dDb3VudDsgcisrKSB7CiAgICBicmlja3NbY11bcl0gPSB7IHg6IDAsIHk6IDAsIHN0YXR1czogMSB9OwogIH0KfQoKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigia2V5ZG93biIsIGtleURvd25IYW5kbGVyLCBmYWxzZSk7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleXVwIiwga2V5VXBIYW5kbGVyLCBmYWxzZSk7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoIm1vdXNlbW92ZSIsIG1vdXNlTW92ZUhhbmRsZXIsIGZhbHNlKTsKCmZ1bmN0aW9uIGtleURvd25IYW5kbGVyKGUpIHsKICAgIGlmKGUua2V5ID09ICJSaWdodCIgfHwgZS5rZXkgPT0gIkFycm93UmlnaHQiKSB7CiAgICAgICAgcmlnaHRQcmVzc2VkID0gdHJ1ZTsKICAgIH0KICAgIGVsc2UgaWYoZS5rZXkgPT0gIkxlZnQiIHx8IGUua2V5ID09ICJBcnJvd0xlZnQiKSB7CiAgICAgICAgbGVmdFByZXNzZWQgPSB0cnVlOwogICAgfQp9CgpmdW5jdGlvbiBrZXlVcEhhbmRsZXIoZSkgewogICAgaWYoZS5rZXkgPT0gIlJpZ2h0IiB8fCBlLmtleSA9PSAiQXJyb3dSaWdodCIpIHsKICAgICAgICByaWdodFByZXNzZWQgPSBmYWxzZTsKICAgIH0KICAgIGVsc2UgaWYoZS5rZXkgPT0gIkxlZnQiIHx8IGUua2V5ID09ICJBcnJvd0xlZnQiKSB7CiAgICAgICAgbGVmdFByZXNzZWQgPSBmYWxzZTsKICAgIH0KfQoKZnVuY3Rpb24gbW91c2VNb3ZlSGFuZGxlcihlKSB7CiAgdmFyIHJlbGF0aXZlWCA9IGUuY2xpZW50WCAtIGNhbnZhcy5vZmZzZXRMZWZ0OwogIGlmKHJlbGF0aXZlWCA+IDAgJiYgcmVsYXRpdmVYIDwgY2FudmFzLndpZHRoKSB7CiAgICBwYWRkbGVYID0gcmVsYXRpdmVYIC0gcGFkZGxlV2lkdGgvMjsKICB9Cn0KZnVuY3Rpb24gY29sbGlzaW9uRGV0ZWN0aW9uKCkgewogIGZvcih2YXIgYz0wOyBjPGJyaWNrQ29sdW1uQ291bnQ7IGMrKykgewogICAgZm9yKHZhciByPTA7IHI8YnJpY2tSb3dDb3VudDsgcisrKSB7CiAgICAgIHZhciBiID0gYnJpY2tzW2NdW3JdOwogICAgICBpZihiLnN0YXR1cyA9PSAxKSB7CiAgICAgICAgaWYoeCA+IGIueCAmJiB4IDwgYi54K2JyaWNrV2lkdGggJiYgeSA+IGIueSAmJiB5IDwgYi55K2JyaWNrSGVpZ2h0KSB7CiAgICAgICAgICBkeSA9IC1keTsKICAgICAgICAgIGIuc3RhdHVzID0gMDsKICAgICAgICAgIHNjb3JlKys7CiAgICAgICAgICBpZihzY29yZSA9PSBicmlja1Jvd0NvdW50KmJyaWNrQ29sdW1uQ291bnQpIHsKICAgICAgICAgICAgYWxlcnQoIllPVSBXSU4sIENPTkdSQVRTISIpOwogICAgICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0KCmZ1bmN0aW9uIGRyYXdCYWxsKCkgewogIGN0eC5iZWdpblBhdGgoKTsKICBjdHguYXJjKHgsIHksIGJhbGxSYWRpdXMsIDAsIE1hdGguUEkqMik7CiAgY3R4LmZpbGxTdHlsZSA9ICIjMDA5NUREIjsKICBjdHguZmlsbCgpOwogIGN0eC5jbG9zZVBhdGgoKTsKfQpmdW5jdGlvbiBkcmF3UGFkZGxlKCkgewogIGN0eC5iZWdpblBhdGgoKTsKICBjdHgucmVjdChwYWRkbGVYLCBjYW52YXMuaGVpZ2h0LXBhZGRsZUhlaWdodCwgcGFkZGxlV2lkdGgsIHBhZGRsZUhlaWdodCk7CiAgY3R4LmZpbGxTdHlsZSA9ICIjMDA5NUREIjsKICBjdHguZmlsbCgpOwogIGN0eC5jbG9zZVBhdGgoKTsKfQpmdW5jdGlvbiBkcmF3QnJpY2tzKCkgewogIGZvcih2YXIgYz0wOyBjPGJyaWNrQ29sdW1uQ291bnQ7IGMrKykgewogICAgZm9yKHZhciByPTA7IHI8YnJpY2tSb3dDb3VudDsgcisrKSB7CiAgICAgIGlmKGJyaWNrc1tjXVtyXS5zdGF0dXMgPT0gMSkgewogICAgICAgIHZhciBicmlja1ggPSAociooYnJpY2tXaWR0aCticmlja1BhZGRpbmcpKSticmlja09mZnNldExlZnQ7CiAgICAgICAgdmFyIGJyaWNrWSA9IChjKihicmlja0hlaWdodCticmlja1BhZGRpbmcpKSticmlja09mZnNldFRvcDsKICAgICAgICBicmlja3NbY11bcl0ueCA9IGJyaWNrWDsKICAgICAgICBicmlja3NbY11bcl0ueSA9IGJyaWNrWTsKICAgICAgICBjdHguYmVnaW5QYXRoKCk7CiAgICAgICAgY3R4LnJlY3QoYnJpY2tYLCBicmlja1ksIGJyaWNrV2lkdGgsIGJyaWNrSGVpZ2h0KTsKICAgICAgICBjdHguZmlsbFN0eWxlID0gIiMwMDk1REQiOwogICAgICAgIGN0eC5maWxsKCk7CiAgICAgICAgY3R4LmNsb3NlUGF0aCgpOwogICAgICB9CiAgICB9CiAgfQp9CmZ1bmN0aW9uIGRyYXdTY29yZSgpIHsKICBjdHguZm9udCA9ICIxNnB4IEFyaWFsIjsKICBjdHguZmlsbFN0eWxlID0gIiMwMDk1REQiOwogIGN0eC5maWxsVGV4dCgiU2NvcmU6ICIrc2NvcmUsIDgsIDIwKTsKfQpmdW5jdGlvbiBkcmF3TGl2ZXMoKSB7CiAgY3R4LmZvbnQgPSAiMTZweCBBcmlhbCI7CiAgY3R4LmZpbGxTdHlsZSA9ICIjMDA5NUREIjsKICBjdHguZmlsbFRleHQoIkxpdmVzOiAiK2xpdmVzLCBjYW52YXMud2lkdGgtNjUsIDIwKTsKfQoKZnVuY3Rpb24gZHJhdygpIHsKICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7CiAgZHJhd0JyaWNrcygpOwogIGRyYXdCYWxsKCk7CiAgZHJhd1BhZGRsZSgpOwogIGRyYXdTY29yZSgpOwogIGRyYXdMaXZlcygpOwogIGNvbGxpc2lvbkRldGVjdGlvbigpOwoKICBpZih4ICsgZHggPiBjYW52YXMud2lkdGgtYmFsbFJhZGl1cyB8fCB4ICsgZHggPCBiYWxsUmFkaXVzKSB7CiAgICBkeCA9IC1keDsKICB9CiAgaWYoeSArIGR5IDwgYmFsbFJhZGl1cykgewogICAgZHkgPSAtZHk7CiAgfQogIGVsc2UgaWYoeSArIGR5ID4gY2FudmFzLmhlaWdodC1iYWxsUmFkaXVzKSB7CiAgICBpZih4ID4gcGFkZGxlWCAmJiB4IDwgcGFkZGxlWCArIHBhZGRsZVdpZHRoKSB7CiAgICAgIGR5ID0gLWR5OwogICAgfQogICAgZWxzZSB7CiAgICAgIGxpdmVzLS07CiAgICAgIGlmKCFsaXZlcykgewogICAgICAgIGFsZXJ0KCJHQU1FIE9WRVIiKTsKICAgICAgICBkb2N1bWVudC5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICB4ID0gY2FudmFzLndpZHRoLzI7CiAgICAgICAgeSA9IGNhbnZhcy5oZWlnaHQtMzA7CiAgICAgICAgZHggPSAzOwogICAgICAgIGR5ID0gLTM7CiAgICAgICAgcGFkZGxlWCA9IChjYW52YXMud2lkdGgtcGFkZGxlV2lkdGgpLzI7CiAgICAgIH0KICAgIH0KICB9CgogIGlmKHJpZ2h0UHJlc3NlZCAmJiBwYWRkbGVYIDwgY2FudmFzLndpZHRoLXBhZGRsZVdpZHRoKSB7CiAgICBwYWRkbGVYICs9IDc7CiAgfQogIGVsc2UgaWYobGVmdFByZXNzZWQgJiYgcGFkZGxlWCA+IDApIHsKICAgIHBhZGRsZVggLT0gNzsKICB9CgogIHggKz0gZHg7CiAgeSArPSBkeTsKICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZHJhdyk7Cn0KCmRyYXcoKTsKPC9zY3JpcHQ+Cg==">Breakout</a></b>
