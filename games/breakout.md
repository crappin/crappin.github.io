<b><a href="data:text/html;base64, PCEtLUhUTUw6IGh0bWwuaHRtbC0tPgo8Y2FudmFzIGlkPSJteUNhbnZhcyIgd2lkdGg9IjEwMCUiIGhlaWdodD0iMTAwJSI+PC9jYW52YXM+CjxzdHlsZT4KICAgIGNhbnZhcyB7IGJhY2tncm91bmQ6ICNlZWU7IH0KPC9zdHlsZT4KPHNjcmlwdD4KICAgIGNvbnN0IFNDQUxFX01VTFQgPSA2OwoKICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgibXlDYW52YXMiKTsKICAgIGNhbnZhcy53aWR0aCA9IE1hdGguZmxvb3IoZG9jdW1lbnQuYm9keS5jbGllbnRXaWR0aCowLjk4KTsgLy9kb2N1bWVudC53aWR0aCBpcyBvYnNvbGV0ZQogICAgY2FudmFzLmhlaWdodCA9IE1hdGguZmxvb3IoZG9jdW1lbnQuYm9keS5jbGllbnRIZWlnaHQqMC45OCk7IC8vZG9jdW1lbnQuaGVpZ2h0IGlzIG9ic29sZXRlCiAgICBjYW52YXNXID0gY2FudmFzLndpZHRoOwogICAgY2FudmFzSCA9IGNhbnZhcy5oZWlnaHQ7CiAgCiAgICAKdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCIyZCIpOwp2YXIgYmFsbFJhZGl1cyA9IDEwOwp2YXIgeCA9IGNhbnZhcy53aWR0aC8yOwp2YXIgeSA9IGNhbnZhcy5oZWlnaHQtMzA7CnZhciBkeCA9IE1hdGguZmxvb3IoY2FudmFzLndpZHRoLygxOTIwL1NDQUxFX01VTFQpKTsKdmFyIGR5ID0gMCAtIE1hdGguZmxvb3IoY2FudmFzLndpZHRoLygxOTIwL1NDQUxFX01VTFQpKTsKY29uc29sZS5sb2coZHgpOwpjb25zb2xlLmxvZyhkeSk7CnZhciBwYWRkbGVIZWlnaHQgPSAxMDsKdmFyIHBhZGRsZVdpZHRoID0gNzU7CnZhciBwYWRkbGVYID0gKGNhbnZhcy53aWR0aC1wYWRkbGVXaWR0aCkvMjsKdmFyIHJpZ2h0UHJlc3NlZCA9IGZhbHNlOwp2YXIgbGVmdFByZXNzZWQgPSBmYWxzZTsKdmFyIGJyaWNrUm93Q291bnQgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDg1KTsKdmFyIGJyaWNrQ29sdW1uQ291bnQgPSBNYXRoLmZsb29yKGNhbnZhcy53aWR0aCAvIDgwKTsKdmFyIGJyaWNrV2lkdGggPSA3NTsKdmFyIGJyaWNrSGVpZ2h0ID0gMjA7CnZhciBicmlja1BhZGRpbmcgPSAxMDsKdmFyIGJyaWNrT2Zmc2V0VG9wID0gMzA7CnZhciBicmlja09mZnNldExlZnQgPSAzMDsKdmFyIHNjb3JlID0gMDsKdmFyIGxpdmVzID0gMzsKCnZhciBicmlja3MgPSBbXTsKZm9yKHZhciBjPTA7IGM8YnJpY2tDb2x1bW5Db3VudDsgYysrKSB7CiAgYnJpY2tzW2NdID0gW107CiAgZm9yKHZhciByPTA7IHI8YnJpY2tSb3dDb3VudDsgcisrKSB7CiAgICBicmlja3NbY11bcl0gPSB7IHg6IDAsIHk6IDAsIHN0YXR1czogMSB9OwogIH0KfQovLyB2YXJzIHRvIGtlZXAgdHJhY2sgb2YgdGhlICJtb3VzZSIgZHVyaW5nIHRvdWNobW92ZQp2YXIgIG1vdXNlWDsKdmFyICBtb3VzZVk7CgovLyBjcmVhdGUgdGhlIGN1c3RvbSBldmVudHMgc28geW91IGNhbiBkaXNwYXRjaCB0aGVtIGxhdGVyCnZhciB0b3VjaG92ZXIgPSBuZXcgRXZlbnQoInRvdWNob3ZlciIpOwp2YXIgdG91Y2hvdXQgPSBuZXcgRXZlbnQoInRvdWNob3V0Iik7CnZhciB0b3VjaHVwID0gbmV3IEV2ZW50KCJ0b3VjaHVwIik7CgoKLy8gZnVuY3Rpb25zIGNhbGxlZCBmcm9tIGJvdGggbW91c2UgYW5kIHRvdWNoIGV2ZW50cwpmdW5jdGlvbiBkcmFnT3ZlckhhbmRsZXIoZSl7CiAgLy8gZG8gd2hhdGV2ZXIgeW91IHdhbnQgaGVyZQogIHRoaXMuc3R5bGUuYm9yZGVyID0gIjNweCBzb2xpZCBibHVlIjsKfQpmdW5jdGlvbiBkcmFnT3V0SGFuZGxlcihlKXsKICAvLyBkbyB3aGF0ZXZlciB5b3Ugd2FudCBoZXJlCiAgdGhpcy5zdHlsZS5ib3JkZXIgPSAiM3B4IHNvbGlkIHJlZCI7Cn0KZnVuY3Rpb24gZHJvcEhhbmRsZXIoZSl7CiAgLy8gZG8gd2hhdGV2ZXIgeW91IHdhbnQgaGVyZQogIHRoaXMuc3R5bGUuYm9yZGVyID0gIjNweCBzb2xpZCBncmVlbiI7Cn0KCi8vIFRIRSBQQVJUIFlPVSBTSE9VTEROJ1QgTkVFRCBUTyBUT1VDSApmdW5jdGlvbiBpbml0aWFsaXplVG91Y2hFdmVudHMoZWwpewogIC8vIGR1cmluZyB0b3VjaG1vdmUsIGNoZWNrIGlmIHlvdSBhcmUgZHJhZ2dpbmcgb3ZlciBvciBvdXQgb2YgdGhlIGVsZW1lbnQuIEZpcmUgdGhlIGV2ZW50IGlmIHlvdSBhcmUuCiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLGZ1bmN0aW9uKGUpewogICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdOwogICAgbW91c2VYID0gdG91Y2gucGFnZVg7CiAgICBtb3VzZVkgPSB0b3VjaC5wYWdlWTsKICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICBpZihtb3VzZVggPiByZWN0LmxlZnQgJiYgbW91c2VYIDwgcmVjdC5yaWdodCAmJiBtb3VzZVkgPiByZWN0LnRvcCAmJiBtb3VzZVkgPCByZWN0LmJvdHRvbSl7CiAgICAgIGVsLmRpc3BhdGNoRXZlbnQodG91Y2hvdmVyKTsKICAgIH1lbHNlewogICAgICBlbC5kaXNwYXRjaEV2ZW50KHRvdWNob3V0KTsKICAgIH0KICB9KTsKICAKICAvLyBvbiB0b3VjaGVuZCwgY2hlY2sgaWYgeW91IHJlbGVhc2VkIG9uIHRoZSBlbGVtZW50CiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsZnVuY3Rpb24oZSl7CiAgICB2YXIgcmVjdCA9IGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgaWYobW91c2VYID4gcmVjdC5sZWZ0ICYmIG1vdXNlWCA8IHJlY3QucmlnaHQgJiYgbW91c2VZID4gcmVjdC50b3AgJiYgbW91c2VZIDwgcmVjdC5ib3R0b20pewogICAgICBlbC5kaXNwYXRjaEV2ZW50KHRvdWNodXApOwogICAgICAvLyBoaXQgdGhlIHRhcmdldAogICAgfWVsc2V7CiAgICAgIC8vIG1pc3NlZCB0aGUgdGFyZ2V0CiAgICB9CiAgfSk7Cn0KCmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLCBrZXlEb3duSGFuZGxlciwgZmFsc2UpOwpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJrZXl1cCIsIGtleVVwSGFuZGxlciwgZmFsc2UpOwpkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCJtb3VzZW1vdmUiLCBtb3VzZU1vdmVIYW5kbGVyLCBmYWxzZSk7Ci8vIGF0dGFjaCBzdGFuZGFyZCBtb3VzZSBldmVudHMgd2hpY2ggZmlyZSB3aGVuIHlvdSBkcmFnIG9udG8sIG91dCBvZiBvciBkcm9wIG9uIGFuIGVsZW1lbnQKZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJyxrZXlEb3duSGFuZGxlcik7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JyxkcmFnT3V0SGFuZGxlcik7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLGtleVVwSGFuZGxlcik7Ci8vIGF0dGFjaCBjdXN0b20gdG91Y2ggZXZlbnRzLCBkaXNwYXRjaGVkIGJlbG93CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNob3ZlcicsbW91c2VNb3ZlSGFuZGxlcik7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNob3V0JyxkcmFnT3V0SGFuZGxlcik7CmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNodXAnLGtleVVwSGFuZGxlcik7CgovLyBpbml0aWFsaXplCmluaXRpYWxpemVUb3VjaEV2ZW50cyhkb2N1bWVudCk7CgpmdW5jdGlvbiBrZXlEb3duSGFuZGxlcihlKSB7CiAgICBpZihlLmtleSA9PSAiUmlnaHQiIHx8IGUua2V5ID09ICJBcnJvd1JpZ2h0IikgewogICAgICAgIHJpZ2h0UHJlc3NlZCA9IHRydWU7CiAgICB9CiAgICBlbHNlIGlmKGUua2V5ID09ICJMZWZ0IiB8fCBlLmtleSA9PSAiQXJyb3dMZWZ0IikgewogICAgICAgIGxlZnRQcmVzc2VkID0gdHJ1ZTsKICAgIH0KfQoKZnVuY3Rpb24ga2V5VXBIYW5kbGVyKGUpIHsKICAgIGlmKGUua2V5ID09ICJSaWdodCIgfHwgZS5rZXkgPT0gIkFycm93UmlnaHQiKSB7CiAgICAgICAgcmlnaHRQcmVzc2VkID0gZmFsc2U7CiAgICB9CiAgICBlbHNlIGlmKGUua2V5ID09ICJMZWZ0IiB8fCBlLmtleSA9PSAiQXJyb3dMZWZ0IikgewogICAgICAgIGxlZnRQcmVzc2VkID0gZmFsc2U7CiAgICB9Cn0KCmZ1bmN0aW9uIG1vdXNlTW92ZUhhbmRsZXIoZSkgewogIHZhciByZWxhdGl2ZVggPSBlLmNsaWVudFggLSBjYW52YXMub2Zmc2V0TGVmdDsKICBpZihyZWxhdGl2ZVggPiAwICYmIHJlbGF0aXZlWCA8IGNhbnZhcy53aWR0aCkgewogICAgcGFkZGxlWCA9IHJlbGF0aXZlWCAtIHBhZGRsZVdpZHRoLzI7CiAgfQp9CmZ1bmN0aW9uIGNvbGxpc2lvbkRldGVjdGlvbigpIHsKICBmb3IodmFyIGM9MDsgYzxicmlja0NvbHVtbkNvdW50OyBjKyspIHsKICAgIGZvcih2YXIgcj0wOyByPGJyaWNrUm93Q291bnQ7IHIrKykgewogICAgICB2YXIgYiA9IGJyaWNrc1tjXVtyXTsKICAgICAgaWYoYi5zdGF0dXMgPT0gMSkgewogICAgICAgIGlmKHggPiBiLnggJiYgeCA8IGIueCticmlja1dpZHRoICYmIHkgPiBiLnkgJiYgeSA8IGIueSticmlja0hlaWdodCkgewogICAgICAgICAgZHkgPSAtZHk7CiAgICAgICAgICBiLnN0YXR1cyA9IDA7CiAgICAgICAgICBzY29yZSsrOwogICAgICAgICAgaWYoc2NvcmUgPT0gYnJpY2tSb3dDb3VudCpicmlja0NvbHVtbkNvdW50KSB7CiAgICAgICAgICAgIGFsZXJ0KCJZT1UgV0lOLCBDT05HUkFUUyEiKTsKICAgICAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfQp9CgpmdW5jdGlvbiBkcmF3QmFsbCgpIHsKICBjdHguYmVnaW5QYXRoKCk7CiAgY3R4LmFyYyh4LCB5LCBiYWxsUmFkaXVzLCAwLCBNYXRoLlBJKjIpOwogIGN0eC5maWxsU3R5bGUgPSAiIzAwOTVERCI7CiAgY3R4LmZpbGwoKTsKICBjdHguY2xvc2VQYXRoKCk7Cn0KZnVuY3Rpb24gZHJhd1BhZGRsZSgpIHsKICBjdHguYmVnaW5QYXRoKCk7CiAgY3R4LnJlY3QocGFkZGxlWCwgY2FudmFzLmhlaWdodC1wYWRkbGVIZWlnaHQsIHBhZGRsZVdpZHRoLCBwYWRkbGVIZWlnaHQpOwogIGN0eC5maWxsU3R5bGUgPSAiIzAwOTVERCI7CiAgY3R4LmZpbGwoKTsKICBjdHguY2xvc2VQYXRoKCk7Cn0KZnVuY3Rpb24gZHJhd0JyaWNrcygpIHsKICBmb3IodmFyIGM9MDsgYzxicmlja0NvbHVtbkNvdW50OyBjKyspIHsKICAgIGZvcih2YXIgcj0wOyByPGJyaWNrUm93Q291bnQ7IHIrKykgewogICAgICBpZihicmlja3NbY11bcl0uc3RhdHVzID09IDEpIHsKICAgICAgICB2YXIgYnJpY2tYID0gKHIqKGJyaWNrV2lkdGgrYnJpY2tQYWRkaW5nKSkrYnJpY2tPZmZzZXRMZWZ0OwogICAgICAgIHZhciBicmlja1kgPSAoYyooYnJpY2tIZWlnaHQrYnJpY2tQYWRkaW5nKSkrYnJpY2tPZmZzZXRUb3A7CiAgICAgICAgYnJpY2tzW2NdW3JdLnggPSBicmlja1g7CiAgICAgICAgYnJpY2tzW2NdW3JdLnkgPSBicmlja1k7CiAgICAgICAgY3R4LmJlZ2luUGF0aCgpOwogICAgICAgIGN0eC5yZWN0KGJyaWNrWCwgYnJpY2tZLCBicmlja1dpZHRoLCBicmlja0hlaWdodCk7CiAgICAgICAgY3R4LmZpbGxTdHlsZSA9ICIjMDA5NUREIjsKICAgICAgICBjdHguZmlsbCgpOwogICAgICAgIGN0eC5jbG9zZVBhdGgoKTsKICAgICAgfQogICAgfQogIH0KfQpmdW5jdGlvbiBkcmF3U2NvcmUoKSB7CiAgY3R4LmZvbnQgPSAiMTZweCBBcmlhbCI7CiAgY3R4LmZpbGxTdHlsZSA9ICIjMDA5NUREIjsKICBjdHguZmlsbFRleHQoIlNjb3JlOiAiK3Njb3JlLCA4LCAyMCk7Cn0KZnVuY3Rpb24gZHJhd0xpdmVzKCkgewogIGN0eC5mb250ID0gIjE2cHggQXJpYWwiOwogIGN0eC5maWxsU3R5bGUgPSAiIzAwOTVERCI7CiAgY3R4LmZpbGxUZXh0KCJMaXZlczogIitsaXZlcywgY2FudmFzLndpZHRoLTY1LCAyMCk7Cn0KCmZ1bmN0aW9uIGRyYXcoKSB7CiAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogIGRyYXdCcmlja3MoKTsKICBkcmF3QmFsbCgpOwogIGRyYXdQYWRkbGUoKTsKICBkcmF3U2NvcmUoKTsKICBkcmF3TGl2ZXMoKTsKICBjb2xsaXNpb25EZXRlY3Rpb24oKTsKCiAgaWYoeCArIGR4ID4gY2FudmFzLndpZHRoLWJhbGxSYWRpdXMgfHwgeCArIGR4IDwgYmFsbFJhZGl1cykgewogICAgZHggPSAtZHg7CiAgfQogIGlmKHkgKyBkeSA8IGJhbGxSYWRpdXMpIHsKICAgIGR5ID0gLWR5OwogIH0KICBlbHNlIGlmKHkgKyBkeSA+IGNhbnZhcy5oZWlnaHQtYmFsbFJhZGl1cykgewogICAgaWYoeCA+IHBhZGRsZVggJiYgeCA8IHBhZGRsZVggKyBwYWRkbGVXaWR0aCkgewogICAgICBkeSA9IC1keTsKICAgIH0KICAgIGVsc2UgewogICAgICBsaXZlcy0tOwogICAgICBpZighbGl2ZXMpIHsKICAgICAgICBhbGVydCgiR0FNRSBPVkVSIik7CiAgICAgICAgZG9jdW1lbnQubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgIH0KICAgICAgZWxzZSB7CiAgICAgICAgeCA9IGNhbnZhcy53aWR0aC8yOwogICAgICAgIHkgPSBjYW52YXMuaGVpZ2h0LTMwOwogICAgICAgIGR4ID0gMzsKICAgICAgICBkeSA9IC0zOwogICAgICAgIHBhZGRsZVggPSAoY2FudmFzLndpZHRoLXBhZGRsZVdpZHRoKS8yOwogICAgICB9CiAgICB9CiAgfQoKICBpZihyaWdodFByZXNzZWQgJiYgcGFkZGxlWCA8IGNhbnZhcy53aWR0aC1wYWRkbGVXaWR0aCkgewogICAgcGFkZGxlWCArPSA3OwogIH0KICBlbHNlIGlmKGxlZnRQcmVzc2VkICYmIHBhZGRsZVggPiAwKSB7CiAgICBwYWRkbGVYIC09IDc7CiAgfQoKICB4ICs9IGR4OwogIHkgKz0gZHk7CiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGRyYXcpOwp9CgpkcmF3KCk7Cjwvc2NyaXB0Pgo=">Breakout</a></b>
